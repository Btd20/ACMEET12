<div class="containerTabla row">
  <div class="col">
    <div class="wrapper fadeInDown">
      <div id="formContent">
        <!-- Tabs Titles -->
        <h2 style="color: black;" class="active"> Help Form </h2>
  
        <!-- Icon -->
        <div class="fadeIn first">
          <i class="fa-regular fa-user"></i>
        </div>
  
        <!-- Register Form -->
        <!-- Agrega [formGroup] al formulario -->
        <form [formGroup]="ticketForm" (ngSubmit)="createTicket()">
          <input formControlName="title" type="text" id="register" class="fadeIn second" name="register" placeholder="Problem title">
          <div id="validationServer04Feedback" class="invalid-feedback">
            Mandatory User Name
          </div>
          <div class="form-group">
            <h2 style="color: black;" class="active" id="describer"> Describe your problem </h2>
            <!-- Agrega [formControl] al textarea -->
            <textarea formControlName="message" id="message" name="message" rows="6" required></textarea>
          </div>
          <button type="submit" class="btn btn-primary custom-button custom-outline fadeIn fourth">Send</button>
        </form>
      </div>
    </div>
  </div>
  <div class="col">
    <ng-container *ngIf="userTickets.length > 0; else noTicketsFound">
      <div *ngFor="let ticket of userTickets" class="example-card">
        <mat-card>
          <mat-card-header>
            <mat-card-title-group>
              <mat-card-title>{{ ticket.title }}</mat-card-title>
              
              <mat-card-subtitle class="statusOpen">
                <ng-container *ngIf="ticket.status === 'Open'; else closedStatus">
                  Open
                </ng-container>
                <ng-template #closedStatus>
                  <mat-card-subtitle class="statusClosed">Closed</mat-card-subtitle>
                </ng-template> 
              </mat-card-subtitle>
              
              <img mat-card-sm-image [src]="profilepictureId">
            </mat-card-title-group>
          </mat-card-header>
          <mat-card-content>
            <div class="button-container">
              <button (click)="openDialogVerTicket(ticket)" mat-menu-item class="btn-answ">
                <mat-icon>remove_red_eye</mat-icon>
                <span>See ticket</span>
              </button>
              <button (click)="openDialog(ticket.id)" mat-menu-item class="btn-answ">
                <mat-icon>delete</mat-icon>
                <span>Delete</span>
              </button>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </ng-container>
    <ng-template #noTicketsFound>
      <p class="no-tickets-found">No tickets found</p>
    </ng-template>
    
  </div>
</div>
